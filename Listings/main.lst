C251 COMPILER V5.60.0,  main                                                               14/01/26  14:58:52  PAGE 1   


C251 COMPILER V5.60.0, COMPILATION OF MODULE main
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: D:\AI-KEIL5\C251\BIN\C251.EXE Sources\main.c XSMALL BROWSE INCDIR(.\Sources) DEBUG PRINT(.\Listings
                    -\main.lst) OBJECT(.\Objects\main.obj) 

stmt  level    source

    1          //详情查看readme.md
    2          
    3          #include "config.h"                     //头文件中已包含ai8051u.h, ai_usb.h以及其他头文件
    4          #include "pic.h"
    5          #include "oled.h"
    6          #include  "ai_usb.h"    //USB库和USB虚拟设备的头文
    7          #include "adc_key.h"
    8          #include "time.h"
    9          
   10          void delay_ms(unsigned int ms);
   11          
   12          void main()
   13          {
   14   1          unsigned char i;
   15   1      
   16   1          SYS_Init();              //系统初始化
   17   1          OLED_Init();             //初始化
   18   1          OLED_CLS();              //清屏
   19   1          OLED_Light(0x80);        //中间亮度
   20   1          OLED_CLS();              //清屏
   21   1              usb_init();
   22   1          Timer0_Init();
   23   1          adc_key_init();
   24   1          EA = 1;                 //使能全局中断
   25   1      
   26   1          for(i=0;i<128;i++)
   27   1          {
   28   2              WaveData[i]=mid_level_num;
   29   2          }
   30   1      
   31   1          while (1)
   32   1          {   
   33   2              //test_oled_duibidu();//产生现象为图案渐灭渐亮
   34   2              //test_6_gray_img();//测试6阶灰度图像显示
   35   2              //test_dis_line();//测试显示线
   36   2              //test_dis_boxing();测试静态波形图
   37   2              test_key_level_wave();//测试按键0和1的电平变化
   38   2      
   39   2      
   40   2              //oled_drawsin();
   41   2              
   42   2              //oled_drawCircle(64,32,32,1);
   43   2          }
   44   1      }
   45          
   46          void SYS_Init(void)                 //系统初始化函数
   47          {
   48   1          EAXFR = 1;                      //使能访问扩展XFR
   49   1          WTST = 0x00;                    //设置最快速度访问程序代码
   50   1          CKCON = 0x00;                   //设置最快速度访问内部XDATA
   51   1          
   52   1          P0M1 = 0x00;   P0M0 = 0x00;     //设置为准双向口
   53   1          P1M1 = 0x00;   P1M0 = 0x00;     //设置为准双向口
   54   1          P2M1 = 0x00;   P2M0 = 0x00;     //设置为准双向口
   55   1          P3M1 = 0x00;   P3M0 = 0x2c;     //设置为准双向口, P3.2,P3.3,P3.5设置为推挽输出
   56   1          P4M1 = 0x00;   P4M0 = 0x80;     //设置为准双向口, P4.7设置为推挽输出
   57   1          P5M1 = 0x00;   P5M0 = 0x00;     //设置为准双向口
   58   1          P6M1 = 0x00;   P6M0 = 0x00;     //设置为准双向口
C251 COMPILER V5.60.0,  main                                                               14/01/26  14:58:52  PAGE 2   

   59   1          P7M1 = 0x00;   P7M0 = 0x00;     //设置为准双向口
   60   1      
   61   1          P3SR = 0x00;                    //电平转换速度快（改善IO口高速翻转信号）
   62   1          P3DR = 0xff;                    //端口驱动电流增强
   63   1      }
   64          
   65          //========================================================================
   66          // 函数: void delay_ms(unsigned int ms)
   67          // 描述: 毫秒级延时函数。
   68          // 参数: ms,要延时的ms数,自动适应主时钟.
   69          //=====================================================================
   70          void delay_ms(unsigned int ms)
   71          {
   72   1          unsigned int i;
   73   1          do{
   74   2              i = MAIN_Fosc / 6000;
   75   2              while(--i);
   76   2          } while(--ms);
   77   1      }


Module Information          Static   Overlayable
------------------------------------------------
  code size            =       175     ------
  ecode size           =    ------     ------
  data size            =    ------     ------
  idata size           =    ------     ------
  pdata size           =    ------     ------
  xdata size           =    ------     ------
  xdata-const size     =    ------     ------
  edata size           =    ------     ------
  bit size             =    ------     ------
  ebit size            =    ------     ------
  bitaddressable size  =    ------     ------
  ebitaddressable size =    ------     ------
  far data size        =    ------     ------
  huge data size       =    ------     ------
  const size           =    ------     ------
  hconst size          =         2     ------
End of Module Information.


C251 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
