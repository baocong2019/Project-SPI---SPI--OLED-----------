C251 COMPILER V5.60.0,  main                                                               09/01/26  16:32:47  PAGE 1   


C251 COMPILER V5.60.0, COMPILATION OF MODULE main
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: D:\AI-KEIL5\C251\BIN\C251.EXE Sources\main.c XSMALL BROWSE INCDIR(.\Sources) DEBUG PRINT(.\Listings
                    -\main.lst) OBJECT(.\Objects\main.obj) 

stmt  level    source

    1          //详情查看readme.md
    2          
    3          #include "config.h"                     //头文件中已包含ai8051u.h, ai_usb.h以及其他头文件
    4          #include "pic.h"
    5          #include "oled.h"
    6          #include  "ai_usb.h"    //USB库和USB虚拟设备的头文
    7          #include "adc_key.h"
    8          #include "time.h"
    9          
   10          void delay_ms(unsigned int ms);
   11          
   12          void main()
   13          {
   14   1          unsigned char i;
   15   1      
   16   1          SYS_Init();              //系统初始化
   17   1          OLED_Init();             //初始化
   18   1          OLED_CLS();              //清屏
   19   1          OLED_Light(0x80);        //中间亮度
   20   1          OLED_CLS();              //清屏
   21   1              usb_init();
   22   1          Timer0_Init();
   23   1          adc_key_init();
   24   1          EA = 1;                 //使能全局中断
   25   1      
   26   1          for(i=0;i<128;i++)
   27   1          {
   28   2              WaveData[i]=mid_level_num;
   29   2          }
   30   1      
   31   1          while (1)
   32   1          {   
   33   2              //test_oled_duibidu();//产生现象为图案渐灭渐亮
   34   2              //test_6_gray_img();//测试6阶灰度图像显示
   35   2              //test_dis_line();//测试显示线
   36   2              //test_dis_boxing();测试静态波形图
   37   2              //ButtonWave();按键波动图形显示
   38   2              //time_out();
   39   2      
   40   2              // oled_draw_line(64,32,0,0,1,5);OLED_Show();delay_ms(500);
   41   2              // oled_draw_line(64,32,64,0,1,5);OLED_Show();delay_ms(500);
   42   2              // oled_draw_line(64,32,127,0,1,5);OLED_Show();delay_ms(500);
   43   2              // oled_draw_line(64,32,127,32,1,5);OLED_Show();delay_ms(500);
   44   2      
   45   2              // oled_draw_line(64,32,127,64,1,5);OLED_Show();delay_ms(500);
   46   2              // oled_draw_line(64,32,64,64,1,5);OLED_Show();delay_ms(500);
   47   2              // oled_draw_line(64,32,0,64,1,5);OLED_Show();delay_ms(500);
   48   2              // oled_draw_line(64,32,0,32,1,5);OLED_Show();delay_ms(500);
   49   2              
   50   2              //oled_draw_frame(0,0,127,63);OLED_Show();delay_ms(500);
   51   2              //oled_drawblock(32,0,64,63);OLED_Show();delay_ms(500);
   52   2      
   53   2              //oled_drawsin();
   54   2              oled_drawCircle(64,32,32,1);
   55   2          }
   56   1      }
   57          
   58          void SYS_Init(void)                 //系统初始化函数
C251 COMPILER V5.60.0,  main                                                               09/01/26  16:32:47  PAGE 2   

   59          {
   60   1          EAXFR = 1;                      //使能访问扩展XFR
   61   1          WTST = 0x00;                    //设置最快速度访问程序代码
   62   1          CKCON = 0x00;                   //设置最快速度访问内部XDATA
   63   1          
   64   1          P0M1 = 0x00;   P0M0 = 0x00;     //设置为准双向口
   65   1          P1M1 = 0x00;   P1M0 = 0x00;     //设置为准双向口
   66   1          P2M1 = 0x00;   P2M0 = 0x00;     //设置为准双向口
   67   1          P3M1 = 0x00;   P3M0 = 0x2c;     //设置为准双向口, P3.2,P3.3,P3.5设置为推挽输出
   68   1          P4M1 = 0x00;   P4M0 = 0x80;     //设置为准双向口, P4.7设置为推挽输出
   69   1          P5M1 = 0x00;   P5M0 = 0x00;     //设置为准双向口
   70   1          P6M1 = 0x00;   P6M0 = 0x00;     //设置为准双向口
   71   1          P7M1 = 0x00;   P7M0 = 0x00;     //设置为准双向口
   72   1      
   73   1          P3SR = 0x00;                    //电平转换速度快（改善IO口高速翻转信号）
   74   1          P3DR = 0xff;                    //端口驱动电流增强
   75   1      }
   76          
   77          //========================================================================
   78          // 函数: void delay_ms(unsigned int ms)
   79          // 描述: 毫秒级延时函数。
   80          // 参数: ms,要延时的ms数,自动适应主时钟.
   81          //=====================================================================
   82          void delay_ms(unsigned int ms)
   83          {
   84   1          unsigned int i;
   85   1          do{
   86   2              i = MAIN_Fosc / 6000;
   87   2              while(--i);
   88   2          } while(--ms);
   89   1      }


Module Information          Static   Overlayable
------------------------------------------------
  code size            =       185     ------
  ecode size           =    ------     ------
  data size            =    ------     ------
  idata size           =    ------     ------
  pdata size           =    ------     ------
  xdata size           =    ------     ------
  xdata-const size     =    ------     ------
  edata size           =    ------     ------
  bit size             =    ------     ------
  ebit size            =    ------     ------
  bitaddressable size  =    ------     ------
  ebitaddressable size =    ------     ------
  far data size        =    ------     ------
  huge data size       =    ------     ------
  const size           =    ------     ------
  hconst size          =         2     ------
End of Module Information.


C251 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
