C251 COMPILER V5.60.0,  oled                                                               14/01/26  14:58:52  PAGE 1   


C251 COMPILER V5.60.0, COMPILATION OF MODULE oled
OBJECT MODULE PLACED IN .\Objects\oled.obj
COMPILER INVOKED BY: D:\AI-KEIL5\C251\BIN\C251.EXE Sources\oled.c XSMALL BROWSE INCDIR(.\Sources) DEBUG PRINT(.\Listings
                    -\oled.lst) OBJECT(.\Objects\oled.obj) 

stmt  level    source

    1          //oled.c
    2          //SPIÇý¶¯OLEDÏÔÊ¾Í¼Æ¬¡¢Í¼ÐÎ¡¢×Ö·û
    3          
    4          #include "config.h"                     //Í·ÎÄ¼þÖÐÒÑ°üº¬ai8051u.h, ai_usb.hÒÔ¼°ÆäËûÍ·ÎÄ¼þ
    5          #include "font.h"
    6          #include "ascii.h"
    7          #include "pic.h"
    8          #include "rand_num.h"
    9          #include "oled.h"
   10          #include "math.h"              //°üº¬ÏîÄ¿Í·ÎÄ¼þ
   11          #include "time.h"
   12          
   13          #define UseSPI    1     //0: IOÄ£ÄâSPI;  1: Ê¹ÓÃÓ²¼þSPI
   14          
   15          //OLEDÆÁÒý½Å¶¨Òå
   16          sbit OLED_SCK   =       P3^2;   //D0    SPI or IIC µÄÊ±ÖÓ½Å
   17          sbit OLED_SDA   =   P3^3;       //D1    SPI or IIC µÄÊý¾Ý½Å
   18          sbit OLED_RES   =       P4^7;   //RES   ¸´Î»½Å, µÍµçÆ½¸´Î»
   19          sbit OLED_DC    =       P1^1;   //DC    Êý¾Ý»òÃüÁî½Å
   20          sbit OLED_CS    =       P3^5;   //CS    Æ¬Ñ¡½Å
   21          
   22          //SPI¶¨Òå
   23          sbit SPI_SCK  = P3^2;   //PIN6
   24          sbit SPI_MOSI = P3^3;   //PIN5
   25          
   26          unsigned char xdata ShowBuf[8][128]; //OLEDÈ«¾Ö»º´æ
   27          unsigned char xdata WaveData[128]; //°´¼ü²¨Êý¾Ý»º´æ
   28          
   29          extern void delay_ms(unsigned int ms);
   30          
   31          //========================================================================
   32          // º¯ÊýÃû³Æ: OLED_WR_CMD(unsigned char Cmd)  
   33          // º¯Êý¹¦ÄÜ: OLED_Ð´ÃüÁî×Ö
   34          //========================================================================
   35          void OLED_WR_CMD(unsigned char Cmd)
   36          { 
   37   1      #if(UseSPI==0)
                   unsigned char i;
               #endif  
   40   1          OLED_SCK= 0;    //Ê±ÖÓµÍ;
   41   1          OLED_DC = 0;    //Ð´ÃüÁî
   42   1          OLED_CS = 0;    //Æ¬Ñ¡ÖÐ
   43   1      #if(UseSPI)
   44   1          SPDAT = Cmd;
   45   1          while(SPIF == 0);
   46   1          SPIF = 1;   //ÇåSPIF±êÖ¾
   47   1          WCOL = 1;   //ÇåWCOL±êÖ¾
   48   1      #else
                   for(i=0;i<8;i++)
                   {
                       if(Cmd&0x80)
                           OLED_SDA=1;
                       else
                           OLED_SDA=0;
                       Cmd <<= 1;    //×óÒÆÎ» //
                       OLED_SCK = 1;
                       OLED_SCK = 0;
                   }
C251 COMPILER V5.60.0,  oled                                                               14/01/26  14:58:52  PAGE 2   

               #endif
   60   1          OLED_CS = 1;    //Æ¬²»Ñ¡
   61   1      }
   62          //========================================================================
   63          // º¯ÊýÃû³Æ: OLED_WR_DAT(unsigned char Dat)  
   64          // º¯Êý¹¦ÄÜ: OLED_Ð´Êý¾Ý×Ö
   65          //========================================================================
   66          void OLED_WR_DAT(unsigned char Dat)
   67          { 
   68   1      #if(UseSPI==0)
                   unsigned char i;
               #endif  
   71   1          OLED_SCK= 0;    //Ê±ÖÓµÍ;
   72   1          OLED_DC = 1;    //Ð´Êý¾Ý
   73   1          OLED_CS = 0;    //Æ¬Ñ¡ÖÐ
   74   1      #if(UseSPI)
   75   1          SPDAT = Dat;
   76   1          while(SPIF == 0);
   77   1          SPIF = 1;   //ÇåSPIF±êÖ¾
   78   1          WCOL = 1;   //ÇåWCOL±êÖ¾
   79   1      #else
                   for(i=0;i<8;i++)
                   {
                       if(Dat&0x80)
                           OLED_SDA=1;
                       else
                           OLED_SDA=0;
                       Dat <<= 1;    //×óÒÆÎ» 
                       OLED_SCK = 1;
                       OLED_SCK = 0;
                   }
               #endif  
   91   1          OLED_CS = 1;    //Æ¬²»Ñ¡
   92   1      }
   93          //========================================================================
   94          // º¯ÊýÃû³Æ: OLED_Disp(unsigned char OnOff)
   95          // º¯Êý¹¦ÄÜ: OLED¿ª¹ØÏÔÊ¾ ²ÎÊý: 1:¿ª 0:¹Ø
   96          //========================================================================
   97          void OLED_Disp(unsigned char On)  //¿ª¹ØÏÔÊ¾
   98          {
   99   1          if(On==1)
  100   1          {
  101   2              OLED_WR_CMD(0x8D); //µçºÉ±ÃÊ¹ÄÜ
  102   2              OLED_WR_CMD(0x14); //¿ªÆôµçºÉ±Ã
  103   2              OLED_WR_CMD(0xAF); //µãÁÁÆÁÄ»
  104   2          }
  105   1          else
  106   1          {
  107   2              OLED_WR_CMD(0x8D); //µçºÉ±ÃÊ¹ÄÜ
  108   2              OLED_WR_CMD(0x10); //¹Ø±ÕµçºÉ±Ã
  109   2              OLED_WR_CMD(0xAF); //¹Ø±ÕÆÁÄ»        
  110   2          }
  111   1      }
  112          //========================================================================
  113          // º¯ÊýÃû³Æ: OLED_Init() ÏÔÊ¾ÆÁ³õÊ¼»¯º¯Êý 
  114          //========================================================================
  115          void OLED_Init(void)
  116          {
  117   1      #if(UseSPI)
  118   1          P_SW1 = (P_SW1 & ~(3<<2)) | (3<<2);     //IO¿ÚÇÐ»». 0: P1.4 P1.5 P1.6 P1.7, 1: P2.4 P2.5 P2.6 P2.7, 2
             -: P4.0 P4.1 P4.2 P4.3, 3: P3.5 P3.4 P3.3 P3.2
  119   1          HSSPI_CFG2 |= 0x40;   //½»»»MOSIÓëMISO½Å
  120   1          SSIG = 1; //ºöÂÔ SS Òý½Å¹¦ÄÜ£¬Ê¹ÓÃ MSTR È·¶¨Æ÷¼þÊÇÖ÷»ú»¹ÊÇ´Ó»ú
  121   1          SPEN = 1; //Ê¹ÄÜ SPI ¹¦ÄÜ
  122   1          DORD = 0; //ÏÈ·¢ËÍ/½ÓÊÕÊý¾ÝµÄ¸ßÎ»£¨ MSB£©
  123   1          MSTR = 1; //ÉèÖÃÖ÷»úÄ£Ê½
C251 COMPILER V5.60.0,  oled                                                               14/01/26  14:58:52  PAGE 3   

  124   1          CPOL = 0; //SCLK ¿ÕÏÐÊ±ÎªµÍµçÆ½£¬SCLK µÄÇ°Ê±ÖÓÑØÎªÉÏÉýÑØ£¬ºóÊ±ÖÓÑØÎªÏÂ½µÑØ
  125   1          CPHA = 0; //Êý¾Ý SS ¹Ü½ÅÎªµÍµçÆ½Çý¶¯µÚÒ»Î»Êý¾Ý²¢ÔÚ SCLK µÄºóÊ±ÖÓÑØ¸Ä±äÊý¾Ý
  126   1          SPCTL = (SPCTL & ~3) | 3;   //SPI Ê±ÖÓÆµÂÊÑ¡Ôñ, 0: 4T, 1: 8T,  2: 16T,  3: 2T
  127   1          SPI_SCK  = 0;  //Ê±ÖÓÐÅºÅÖÃµÍ
  128   1          SPI_MOSI = 1;
  129   1          SPIF = 1;   //ÇåSPIF±êÖ¾
  130   1          WCOL = 1;   //ÇåWCOL±êÖ¾
  131   1      #endif 
  132   1          OLED_SCK = 0;               //Ê±ÖÓ¶ËµÍ
  133   1          OLED_SDA = 1; delay_ms(100); //Êý¾Ý¶Ë¸ß 
  134   1          OLED_RES = 1; delay_ms(200);
  135   1          OLED_RES = 0; delay_ms(200); //¸´Î»
  136   1          OLED_RES = 1;
  137   1      //SSD1315 Çý¶¯IC
  138   1          OLED_WR_CMD(0xAE);//--turn off oled panel
  139   1          OLED_WR_CMD(0x00);//--set low column address
  140   1          OLED_WR_CMD(0x10);//--set high column address
  141   1          OLED_WR_CMD(0x40);//--set start line address  Set Mapping RAM Display Start Line (0x00~0x3F)
  142   1          OLED_WR_CMD(0x81);//--set contrast control register ÉèÖÃ¶Ô±È¶È¼Ä´æÆ÷
  143   1          OLED_WR_CMD(0xCF);//--Set SEG Output Current Brightness ÁÁ¶È... È¡Öµ·¶Î§0x00~0xFF 0xcf=207
  144   1          OLED_WR_CMD(0xA1);//--Set SEG/Column Mapping     0xA0×óÓÒ·´×ª 0xA1Õý³£
  145   1          OLED_WR_CMD(0xC8);//--Set COM/Row Scan Direction 0xC0ÉÏÏÂ·´×ª 0xC8Õý³£
  146   1          OLED_WR_CMD(0xA6);//--set normal display
  147   1          OLED_WR_CMD(0xA8);//--set multiplex ratio(1 to 64)
  148   1          OLED_WR_CMD(0x3f);//--1/64 duty
  149   1          OLED_WR_CMD(0xD3);//--set display offset    Shift Mapping RAM Counter (0x00~0x3F)
  150   1          OLED_WR_CMD(0x00);//--not ofset
  151   1          OLED_WR_CMD(0xd5);//--set display clock divide ratio/oscillator frequency
  152   1          OLED_WR_CMD(0x80);//--set divide ratio, Set Clock as 100 Frames/Sec
  153   1          OLED_WR_CMD(0xD9);//--set pre-charge period
  154   1          OLED_WR_CMD(0xF1);//--Set Pre-Charge as 15 Clocks & Discharge as 1 Clock
  155   1          OLED_WR_CMD(0xDA);//--set com pins hardware configuration
  156   1          OLED_WR_CMD(0x12);
  157   1          OLED_WR_CMD(0xDB);//--set vcomh
  158   1          OLED_WR_CMD(0x40);//--Set VCOM Deselect Level
  159   1          OLED_WR_CMD(0x20);//--Set Page Addressing Mode (0x00Ò³µØÖ·Ä£Ê½/0x01Ë®Æ½µØÖ·Ä£Ê½/0x02´¹Ö±µØÖ·Ä£Ê½)
  160   1          OLED_WR_CMD(0x00);//
  161   1          OLED_WR_CMD(0x8D);//--set Charge Pump enable/disable
  162   1          OLED_WR_CMD(0x14);//--set(0x10) disable
  163   1          OLED_WR_CMD(0xA4);//--Disable Entire Display On (0xa4/0xa5)
  164   1          OLED_WR_CMD(0xA6);//--Disable Inverse Display On (0xa6/a7) 
  165   1          OLED_WR_CMD(0xAF);
  166   1          OLED_Disp(1);     //¿ªÏÔÊ¾
  167   1      }
  168          //========================================================================
  169          // º¯ÊýÃû³Æ: OLED_SetXY
  170          // º¯Êý¹¦ÄÜ: OLEDÉèÖÃÏÔÊ¾Î»ÖÃ
  171          // Èë¿Ú²ÎÊý: X-Ë®Æ½×ø±ê 0..127,Y-´¹Ö±×ø±ê0..63
  172          //========================================================================
  173          void OLED_SetXY(unsigned char X, unsigned char Y) 
  174          { 
  175   1          OLED_WR_CMD((u8)(0xB0+Y));
  176   1          OLED_WR_CMD((u8)(((0xF0&X)>>4)|0x10));
  177   1          OLED_WR_CMD((u8)(((0x0f&X)|0x01))); 
  178   1      }
  179          
  180          //========================================================================
  181          // º¯ÊýÃû³Æ: OLED_Show
  182          // º¯Êý¹¦ÄÜ: OLEDË¢ÐÂÏÔÊ¾(½«ÏÔÊ¾»º´æµÄÊý¾ÝË¢µ½ÏÔÊ¾ÆÁÏÔÊ¾³öÀ´)
  183          //========================================================================
  184          void OLED_Show(void)     
  185          {
  186   1          unsigned char xdata i,n;
  187   1      
  188   1          for(i=0;i<8;i++)       //8ÐÐ(Ò³)Ñ­»·...
  189   1          {
C251 COMPILER V5.60.0,  oled                                                               14/01/26  14:58:52  PAGE 4   

  190   2              OLED_WR_CMD((u8)(0xB0+i)); //ÉèÖÃÐÐÆðÊ¼µØÖ·
  191   2              OLED_WR_CMD(0x00);   //ÉèÖÃµÍÁÐÆðÊ¼µØÖ·
  192   2              OLED_WR_CMD(0x10);   //ÉèÖÃ¸ßÁÐÆðÊ¼µØÖ·
  193   2              for(n=0;n<128;n++)   //Ã¿ÐÐ(Ò³)128µã(ÁÐ)
  194   2              OLED_WR_DAT(ShowBuf[i][n]); //Ð´Êý¾Ý...
  195   2          }
  196   1      }
  197          //========================================================================
  198          // º¯ÊýÃû³Æ: OLED_CLS ÇåÆÁº¯Êý
  199          // º¯Êý¹¦ÄÜ: OLEDË¢ÐÂÏÔÊ¾(½«ÏÔÊ¾»º´æµÄ0Êý¾ÝË¢µ½ÏÔÊ¾ÆÁÏÔÊ¾³öÀ´)
  200          //========================================================================
  201          void OLED_CLS(void)     
  202          { 
  203   1          memset(ShowBuf,0,128*8); //Çå¿Õ»º´æ
  204   1          OLED_Show();             //Ë¢ÐÂÏÔÊ¾ 
  205   1      }
  206          //========================================================================
  207          // º¯ÊýÃû³Æ: OLED_Light(unsigned char num)
  208          // º¯Êý¹¦ÄÜ: OLEDÁÁ¶È¼¶ÉèÖÃ 
  209          //========================================================================
  210          void OLED_Light(unsigned char Level)
  211          {
  212   1          OLED_WR_CMD(0x81);  //
  213   1          OLED_WR_CMD(Level); //  
  214   1          OLED_WR_CMD(0xDB);  //--set vcomh
  215   1          OLED_WR_CMD(0x20);  //Set VCOM Deselect Level   
  216   1      }
  217          
  218          //========================================================================
  219          // º¯ÊýÃû³Æ: OLED_Point
  220          // º¯Êý¹¦ÄÜ: OLEDÏÔÊ¾Ò»¸öµã
  221          // Èë¿Ú²ÎÊý: X£ºË®Æ½µã 0..127 Y:´¹Ö±µã0..63
  222          //========================================================================
  223          void OLED_Point(unsigned char X,unsigned char Y,u8 mode)
  224          {
  225   1          if(X>127)return;
  226   1          if(Y>63)return;
  227   1      
  228   1          ShowBuf[Y/8][X] |= 1<<(Y%8);  //´¹Ö±8µã,¸ßÎ»ÔÚÏÂ,µÍÎ»ÔÚÉÏ.
  229   1          if(mode)OLED_Show();
  230   1      }
  231          
  232          void OLED_ClearPoint(unsigned char X,unsigned char Y,u8 mode)
  233          {
  234   1          if(X>127)return;
  235   1          if(Y>63)return;
  236   1      
  237   1          ShowBuf[Y/8][X] &= ~(1<<(Y%8));  
  238   1          if(mode)OLED_Show();
  239   1      }
  240          //========================================================================
  241          // º¯ÊýÃû³Æ: OLED_BMP
  242          // º¯Êý¹¦ÄÜ: OLED»º´æÐ´ÈëBMP¸ñÊ½Í¼Æ¬
  243          // Èë¿Ú²ÎÊý: X£ºË®Æ½Æðµã 0..127 Y:´¹Ö±Æðµã0..63  W: ¿í¶È H:¸ß¶È *BMPÍ¼Æ¬Êý×é
  244          //========================================================================
  245          void OLED_BMP(unsigned char X, unsigned char Y,unsigned char W, unsigned char H,unsigned char BMP[],u8 mo
             -de)
  246          {
  247   1          unsigned int xdata num=0;
  248   1          unsigned char i,l;
  249   1          for( i=0;i<H;i++ )
  250   1          {
  251   2              for(l=0;l<W;l++)
  252   2              {
  253   3                  ShowBuf[Y+i][X+l] = BMP[num++];
  254   3              }
C251 COMPILER V5.60.0,  oled                                                               14/01/26  14:58:52  PAGE 5   

  255   2          }
  256   1          if(mode)
  257   1          {
  258   2              OLED_Show();
  259   2          }
  260   1      } 
  261          
  262          //========================================================================
  263          // »­Ò»ÌõË®Æ½Ïß
  264          //========================================================================
  265          void OLED_LineH(unsigned char X,unsigned char Y,unsigned char W,u8 mode)
  266          {
  267   1          unsigned char i;
  268   1          for(i=0;i<W;i++)
  269   1          {
  270   2              OLED_Point((u8)(X+i),Y,0);
  271   2          }
  272   1          if(mode)
  273   1          {
  274   2              OLED_Show();
  275   2          }
  276   1      }  
  277          //========================================================================
  278          // »­Ò»Ìõ´¹Ö±Ïß
  279          //========================================================================
  280          void OLED_LineV(unsigned char X,unsigned char Y,unsigned char H,u8 mode)
  281          {
  282   1          unsigned char i;
  283   1          for(i=0;i<H;i++)
  284   1          {
  285   2              OLED_Point(X,(u8)(Y+i),0);
  286   2          }
  287   1          if(mode)
  288   1          {
  289   2              OLED_Show();
  290   2          }
  291   1      }
  292          //========================================================================
  293          // º¯ÊýÃû³Æ: OLED_BuffShowPoint
  294          // º¯Êý¹¦ÄÜ: OLEDÏÔÊ¾Ò»ÌõÏß
  295          // Èë¿Ú²ÎÊý: X0Æðµã Y0Æðµã X1ÖÕµã Y1ÖÕµã
  296          //========================================================================
  297          void OLED_Line( unsigned char X0, unsigned char Y0, unsigned char X1,unsigned char Y1,u8 mode)
  298          {
  299   1          unsigned char x,y;
  300   1          if(X0>X1)  //Îª´Ó×óµ½ÓÒ¶ø½»»»×ø±ê.
  301   1          {
  302   2              x=X0;X0=X1;X1=x;
  303   2              y=Y0;Y0=Y1;Y1=y;
  304   2          }
  305   1          if(X0!=X1)
  306   1          {
  307   2              for(x=0;x<(X1-X0);x++ )
  308   2              {
  309   3                  if(Y1>Y0)
  310   3                      OLED_Point((u8)(X0+x),(u8)(Y0+(u16)(Y1-Y0)*(u16)x/(u16)(X1-X0)),0); //¼ÆËãÐ±ÂÊÍÆËãy×ø±ê
  311   3                  else
  312   3                      OLED_Point((u8)(X0+x),(u8)(Y0-(u16)(Y0-Y1)*(u16)x/(u16)(X1-X0)),0);
  313   3              }
  314   2          }
  315   1          else
  316   1          {
  317   2              if(Y0>Y1)
  318   2              {
  319   3                  for(y=Y1; y<=Y0; y++ )  OLED_Point(X0,y,0);
  320   3              }
C251 COMPILER V5.60.0,  oled                                                               14/01/26  14:58:52  PAGE 6   

  321   2              else
  322   2              {
  323   3                  for(y=Y0; y<=Y1; y++ )  OLED_Point(X0,y,0);
  324   3              }
  325   2          }
  326   1          if(mode)
  327   1          {
  328   2              OLED_Show();
  329   2          }
  330   1      }
  331          //========================================================================
  332          // »­Ò»¸ö·½¿ò
  333          //========================================================================
  334          void OLED_Box(unsigned char X,unsigned char Y,unsigned char W,unsigned char H,u8 mode)
  335          {
  336   1          OLED_LineH(X,Y,W,0);
  337   1          OLED_LineV(X,Y,H,0);
  338   1          OLED_LineH(X,(u8)(Y+H),W,0);
  339   1          OLED_LineV((u8)(X+W),Y,H,0);
  340   1          if(mode)
  341   1          {
  342   2              OLED_Show();
  343   2          }
  344   1      }  
  345          //========================================================================
  346          // º¯ÊýÃû³Æ: OLED_Circle
  347          // º¯Êý¹¦ÄÜ: OLEDÏÔÊ¾Ò»¸öÔ²ÐÎ
  348          // Èë¿Ú²ÎÊý: Xµã  Yµã  r:°ë¾¶
  349          //     turn: 0:ÕýÏÔÊ¾ 1:·´ÏÔÊ¾  mode: 1:Á¢¼´Ë¢ÐÂÏÔÊ¾ 0:½öÐ´»º´æ
  350          //========================================================================
  351          void OLED_Circle(unsigned char X,unsigned char Y,unsigned char r,u8 mode)
  352          {
  353   1          int a, b, di;
  354   1          a = 0;
  355   1          b = r;
  356   1          di = 3 - (r << 1);        //ÅÐ¶ÏÏÂ¸öµãÎ»ÖÃµÄ±êÖ¾
  357   1          while (a <= b)
  358   1          {
  359   2              OLED_Point((u8)(X+a),(u8)(Y-b),0);  //5
  360   2              OLED_Point((u8)(X+b),(u8)(Y-a),0);  //0
  361   2              OLED_Point((u8)(X+b),(u8)(Y+a),0);  //4
  362   2              OLED_Point((u8)(X+a),(u8)(Y+b),0);  //6
  363   2              OLED_Point((u8)(X-a),(u8)(Y+b),0);  //1
  364   2              OLED_Point((u8)(X-b),(u8)(Y+a),0);  //3
  365   2              OLED_Point((u8)(X-a),(u8)(Y-b),0);  //2
  366   2              OLED_Point((u8)(X-b),(u8)(Y-a),0);  //7
  367   2              a++;
  368   2              //Ê¹ÓÃBresenhamËã·¨»­Ô²
  369   2              if (di < 0)
  370   2              {
  371   3                  di += 4 * a + 6;
  372   3              }
  373   2              else
  374   2              {
  375   3                  di += 10 + 4 * (a - b);
  376   3                  b--;
  377   3              }
  378   2          }
  379   1          if(mode)
  380   1          {
  381   2              OLED_Show();
  382   2          }
  383   1      }
  384          //========================================================================
  385          // º¯ÊýÃû³Æ: OLED_A08
  386          // º¯Êý¹¦ÄÜ: OLEDÏÔÊ¾Ò»¸ö6*8×Ö·û
C251 COMPILER V5.60.0,  oled                                                               14/01/26  14:58:52  PAGE 7   

  387          // Èë¿Ú²ÎÊý: X: Ë®Æ½×ø±êÁÐ 0..127  Y: ´¹Ö±×ø±êÐÐ(Ò³) 0..7 
  388          //     turn: 0:ÕýÏÔÊ¾ 1:·´ÏÔÊ¾  mode: 1:Á¢¼´Ë¢ÐÂÏÔÊ¾ 0:½öÐ´»º´æ
  389          //========================================================================
  390          void OLED_A08(unsigned char X,unsigned char Y,char Ch,u8 turn,u8 mode)     //OLEDÏÔÊ¾Ò»¸ö5*7×Ö·û
  391          {
  392   1          unsigned char i;
  393   1          for( i=0;i<6;i++ )
  394   1          {
  395   2              if(turn==0)            
  396   2                  ShowBuf[Y][X+i]= ASC8[Ch-' '][i];
  397   2              else
  398   2                  ShowBuf[Y][X+i]=~ASC8[Ch-' '][i];
  399   2          }
  400   1          if(mode)
  401   1          {
  402   2              OLED_Show();
  403   2          }
  404   1      }
  405          //========================================================================
  406          // º¯ÊýÃû³Æ: OLED_A16
  407          // º¯Êý¹¦ÄÜ: OLEDÏÔÊ¾Ò»¸ö8*16×Ö·û
  408          // Èë¿Ú²ÎÊý: X: Ë®Æ½×ø±êÁÐ 0..127  Y: ´¹Ö±×ø±êÐÐ(Ò³) 0..7 
  409          //     turn: 0:ÕýÏÔÊ¾ 1:·´ÏÔÊ¾  mode: 1:Á¢¼´Ë¢ÐÂÏÔÊ¾ 0:½öÐ´»º´æ
  410          //========================================================================
  411          void OLED_A16(unsigned char X,unsigned char Y,char Ch,u8 turn,u8 mode)     //OLEDÏÔÊ¾Ò»¸ö8*16×Ö·û
  412          {
  413   1          unsigned char i,j;
  414   1          for( j=0;j<2;j++ )
  415   1          {
  416   2              for( i=0;i<8;i++ )
  417   2              {
  418   3                  if(turn==0)            
  419   3                      ShowBuf[Y+j][X+i]= ASC16[Ch-' '][i+j*8];
  420   3                  else
  421   3                      ShowBuf[Y+j][X+i]=~ASC16[Ch-' '][i+j*8];
  422   3              }
  423   2          }
  424   1          if(mode)
  425   1          {
  426   2              OLED_Show();
  427   2          }
  428   1      }
  429          //========================================================================
  430          // º¯ÊýÃû³Æ: OLED_HZ16
  431          // º¯Êý¹¦ÄÜ: OLEDÏÔÊ¾Ò»¸ö16*16ºº×Ö
  432          // Èë¿Ú²ÎÊý: X: Ë®Æ½×ø±êÁÐ 0..127  Y: ´¹Ö±×ø±êÐÐ(Ò³) 0..7 
  433          //     turn: 0:ÕýÏÔÊ¾ 1:·´ÏÔÊ¾  mode: 1:Á¢¼´Ë¢ÐÂÏÔÊ¾ 0:½öÐ´»º´æ
  434          //========================================================================
  435          void OLED_HZ16(unsigned char X,unsigned char Y,char *Hz,u8 turn,u8 mode)
  436          {
  437   1          unsigned char i,j;
  438   1          unsigned int m;
  439   1      
  440   1          //²éÕÒ×Ö¿âºº×Ö±í
  441   1          for(m=0;m<FONT_NUM;m++)
  442   1          {
  443   2              if((Font_Data[m].txt[0]==Hz[0])&&(Font_Data[m].txt[1]==Hz[1]))
  444   2              {
  445   3                  for( j=0;j<2;j++ )
  446   3                  {
  447   4                      for( i=0;i<16;i++ )
  448   4                      {
  449   5                          if(turn==0)            
  450   5                              ShowBuf[Y+j][X+i]= Font_Data[m].dat[i+j*16];
  451   5                          else
  452   5                              ShowBuf[Y+j][X+i]=~Font_Data[m].dat[i+j*16];
C251 COMPILER V5.60.0,  oled                                                               14/01/26  14:58:52  PAGE 8   

  453   5                      }
  454   4                  }
  455   3              }
  456   2          }    
  457   1          if(mode)
  458   1          {
  459   2              OLED_Show();
  460   2          }
  461   1      }
  462          //========================================================================
  463          // º¯ÊýÃû³Æ: OLED_Str5x7
  464          // º¯Êý¹¦ÄÜ: OLEDÏÔÊ¾5*7µãÕó×Ö·û´®
  465          // Èë¿Ú²ÎÊý: X: Ë®Æ½×ø±êÁÐ 0..127  Y: ´¹Ö±×ø±êÐÐ(Ò³) 0..7 
  466          //     turn: 0:ÕýÏÔÊ¾ 1:·´ÏÔÊ¾  mode: 1:Á¢¼´Ë¢ÐÂÏÔÊ¾ 0:½öÐ´»º´æ
  467          //========================================================================
  468          void OLED_Str5x7(unsigned char X,unsigned char Y,char *s,u8 turn,u8 mode)
  469          { 
  470   1          while(*s != '\0') //×Ö·û´®²»Îª¿Õ£¬Ñ­»·
  471   1          {
  472   2              OLED_A08(X,Y,*s,turn,0);
  473   2              X += 6;
  474   2              s++;
  475   2          }       
  476   1          if(mode)
  477   1          {
  478   2              OLED_Show();
  479   2          }
  480   1      }
  481          //========================================================================
  482          // º¯ÊýÃû³Æ: OLED_String
  483          // º¯Êý¹¦ÄÜ: OLEDÏÔÊ¾×Ö·û´®¡£
  484          // Èë¿Ú²ÎÊý: X: Ë®Æ½×ø±êÁÐ 0..127  Y: ´¹Ö±×ø±êÐÐ(Ò³) 0..7 
  485          //     turn: 0:ÕýÏÔÊ¾ 1:·´ÏÔÊ¾  mode: 1:Á¢¼´Ë¢ÐÂÏÔÊ¾ 0:½öÐ´»º´æ
  486          //========================================================================
  487          void OLED_String(unsigned char X,unsigned char Y,char *s,u8 turn,u8 mode)
  488          {
  489   1          char hz[2]; 
  490   1              while(*s != '\0')       //×Ö·û´®²»Îª¿Õ£¬Ñ­»·
  491   1              {
  492   2              if ((unsigned char)*s < 0x80)     //¸ù¾ÝÊäÈëÊý¾ÝµÄ´óÐ¡ÅÐ¶ÏÊÇ×Ö·û»¹ÊÇºº×Ö£¬
  493   2              {
  494   3                  OLED_A16(X,Y,*s,turn,0);
  495   3                  X += 8;
  496   3                  s++;
  497   3              }
  498   2              else
  499   2              {
  500   3                  hz[0] = *s ;
  501   3                  hz[1] = *(s+1) ;
  502   3                  OLED_HZ16(X,Y,hz,turn,0);
  503   3                  X += 16;
  504   3                  s += 2;
  505   3              }
  506   2                      if(X>127)   //ÐÐ
  507   2              {
  508   3                  X = 0;
  509   3                  Y += 2;
  510   3              }
  511   2              }       
  512   1          if(mode)
  513   1          {
  514   2              OLED_Show();
  515   2          }
  516   1      }
  517          
  518          void oled_mask_Gray(unsigned char x_start,unsigned char y_start)
C251 COMPILER V5.60.0,  oled                                                               14/01/26  14:58:52  PAGE 9   

  519          {
  520   1          unsigned char x,y;
  521   1          bit is_pixel_on;
  522   1      
  523   1          for(y=y_start;y<64;y+=2)
  524   1          {
  525   2              for(x=x_start;x<128;x+=3)
  526   2              {
  527   3                  is_pixel_on =Battery[y/8][x]&(0x01<<(y%8));//ÅÐ¶Ïµ±Ç°ÏñËØÊÇ·ñÎª1
  528   3                  if(is_pixel_on)
  529   3                  {
  530   4                      OLED_Point(x,y,0);
  531   4                  }
  532   3              }
  533   2          }
  534   1          OLED_Show();
  535   1      }
  536          
  537          void oled_mask_Gray_fan(unsigned char x_start,unsigned char y_start)
  538          {
  539   1          unsigned char x,y;
  540   1          bit is_pixel_on;
  541   1      
  542   1          for(y=y_start;y<64;y+=2)
  543   1          {
  544   2              for(x=x_start;x<128;x+=3)
  545   2              {
  546   3                  is_pixel_on =Battery[y/8][x]&(0x01<<(y%8));
  547   3                  if(is_pixel_on)
  548   3                  {
  549   4                      OLED_ClearPoint(x,y,0);//Çå³ýµ±Ç°ÏñËØ
  550   4                  }
  551   3              }
  552   2          }
  553   1          OLED_Show();
  554   1      }
  555          
  556          void test_oled_duibidu()
  557          {
  558   1          unsigned char i=0;
  559   1          /*
  560   1          ÉèÖÃ¶Ô±È¶È,²é¿´Í¼Æ¬±ä»¯
  561   1          */
  562   1              OLED_BMP(0,0,128,8,OLED12864_IMG0[0],1); //ÏÔÊ½BMPÍ¼ ÉîÛÚ¹úÐ¾STCMCU 32Î»µ¥Æ¬»ú ×îºóÒ»¸ö²ÎÊýÎª1£¬´
             -ú±íÁ¢¼´Ë¢ÐÂÆÁÄ»
  563   1              for(i=0;i<255;i++)//´ÓµÍµ½¸ß Ôö¼Ó¶Ô±È¶È£¿
  564   1              {
  565   2                  OLED_Light(i);   
  566   2                  delay_ms(10);
  567   2              }   
  568   1      
  569   1              //OLED_BMP(0,0,128,8,Battery[0],1); //ÏÔÊ¾µç³ØÍ¼±ê
  570   1      
  571   1              OLED_CLS();                             //ÇåÆÁ
  572   1              OLED_String(5,1,"ÉîÛÚ´óÑ§+STC",0,1);    //ÖÐÎ÷ÎÄ»ìºÏÏÔÊ¾ 
  573   1              OLED_String(5,3,"ÉîÛÚ´óÑ§+STC",1,1);    //ÕýÏÔ/·´ÏÔ 
  574   1              OLED_Str5x7(16,6,"Ai8051U-34K64",0,1);  //ÕýÏÔ  
  575   1              OLED_Str5x7(16,7,"Ai8051U-34K64",1,1);  //·´ÏÔ 
  576   1      
  577   1              for(i=255;i>0;i--)
  578   1              {
  579   2                  OLED_Light(i);   //´Ó¸ßµ½µÍ ¼õÉÙ¶Ô±È¶È£¿
  580   2                  delay_ms(10);
  581   2              }
  582   1      }     
  583          
C251 COMPILER V5.60.0,  oled                                                               14/01/26  14:58:52  PAGE 10  

  584          void test_6_gray_img()
  585          {
  586   1          //ÒÔ6½×»Ò¶È£¨Ìï×Ö¸ñ£©ÏÔÊ¾
  587   1          oled_mask_Gray(0,0);delay_ms(250);//6½×»Ò¶È x²½³¤3 y²½³¤2  °ÑÌï×Ö¸ñÌî³äµ½0,0ÉÏ  ²ÎÊý1Îªx×ø±ê ²ÎÊý2Îªy
             -×ø±ê
  588   1          oled_mask_Gray(1,0);delay_ms(250);//mask:ÕÚÕÖ gray£º»Ò¶È  ×ÜÌåÀí½âÎªÃÉ°æ
  589   1          oled_mask_Gray(2,0);delay_ms(250);
  590   1          oled_mask_Gray(0,1);delay_ms(250);
  591   1          oled_mask_Gray(1,1);delay_ms(250);
  592   1          oled_mask_Gray(2,1);delay_ms(250);
  593   1      
  594   1          oled_mask_Gray_fan(0,0);delay_ms(250);//6½×»Ò¶È x²½³¤3 y²½³¤2 
  595   1          oled_mask_Gray_fan(1,0);delay_ms(250);
  596   1          oled_mask_Gray_fan(2,0);delay_ms(250);
  597   1          oled_mask_Gray_fan(0,1);delay_ms(250);
  598   1          oled_mask_Gray_fan(1,1);delay_ms(250);
  599   1          oled_mask_Gray_fan(2,1);delay_ms(250);
  600   1      }
  601          
  602          void test_dis_line()
  603          {
  604   1          OLED_CLS();                //ÇåÆÁ
  605   1          OLED_LineH(10,10,108,1);   //»­Ò»Ë®Æ½Ïß ×÷Í¼Ëã·¨...x,y,³¤¶È,ÊÇ·ñÁ¢¼´ÏÔÊ¾
  606   1          delay_ms(1000);
  607   1          OLED_LineV(10,10,44,1);    //»­Ò»´¹Ö±Ïß
  608   1          delay_ms(1000);
  609   1          OLED_Line(10,10,118,54,1); //Á½µãÒ»Ïß ²»Í¬·½Ïò»­Ïß... x0,y0,x1,y1,ÊÇ·ñÁ¢¼´ÏÔÊ¾
  610   1          delay_ms(1000);
  611   1          OLED_Line(10,54,118,10,1); //Á½µãÒ»Ïß
  612   1          delay_ms(1000);
  613   1          OLED_Line(118,54,118,10,1);//Á½µãÒ»Ïß
  614   1          delay_ms(1000);
  615   1          OLED_Line(118,54,10,54,1); //Á½µãÒ»Ïß
  616   1          delay_ms(1000);            
  617   1      }
  618          
  619          void test_Boxing_wave(unsigned char step)//step:²½³¤ ²¨ÐÎÍ¼ÏÔÊ¾
  620          {
  621   1          unsigned char Pointx=0;//x×ø±ê
  622   1          unsigned char Pointy=0;//y×ø±ê
  623   1          unsigned char Xtime;//x×ø±êÊ±¼ä 0-128°´²½³¤Ôö³¤
  624   1          unsigned char range=63;//y×ø±ê·¶Î§ 12864 ×î¿í¾ÍÊÇ63 £¬½øÐÐµÈ±ÈÀýËõ·Å
  625   1          float scale = (float)range/255;//scale:Ëõ·Å±ÈÀý
  626   1          unsigned char Pointxlast,Pointylast;
  627   1          char step_str[16]; // ÓÃÓÚ´æ´¢stepµÄ×Ö·û´®±íÊ¾
  628   1      
  629   1          Pointx=0;
  630   1          Pointy=(unsigned char)(rand_num[0]*scale);//³õÊ¼y×ø±ê Ëæ»úÊý*Ëõ·Å±ÈÀý È¡Õû
  631   1      
  632   1          sprintf(step_str, "step=%d", step);
  633   1          OLED_String(0,0,step_str,0,1);
  634   1      
  635   1          for(Xtime=0;Xtime<128;Xtime+=step)
  636   1          {
  637   2              Pointxlast=Pointx;
  638   2              Pointylast=Pointy;
  639   2      
  640   2              Pointx=Xtime;
  641   2              Pointy=rand_num[Xtime]*scale;//y×ø±ê Ëæ»úÊý*Ëõ·Å±ÈÀý 
  642   2              OLED_Line(Pointxlast,(unsigned char)(63-Pointylast),Pointx,(unsigned char)(63-Pointy),1);
  643   2              delay_ms(50);
  644   2          }
  645   1      }
  646          
  647          void test_dis_boxing()
  648          {
C251 COMPILER V5.60.0,  oled                                                               14/01/26  14:58:52  PAGE 11  

  649   1          test_Boxing_wave(1);
  650   1          OLED_CLS();     
  651   1          test_Boxing_wave(5);
  652   1          OLED_CLS();    
  653   1          test_Boxing_wave(10);
  654   1          OLED_CLS();    
  655   1          test_Boxing_wave(20);
  656   1          OLED_CLS();   
  657   1      }
  658          
  659          
  660          void ButtonWave()//¶¯Ì¬°´¼ü²¨ÐÎÍ¼
  661          {
  662   1          unsigned char Xtime;
  663   1          
  664   1          for(Xtime=127;Xtime>0;Xtime--)
  665   1          {
  666   2              WaveData[Xtime]=WaveData[Xtime-1];//½«Ç°Ò»¸öµãµÄy×ø±ê¸³Öµ¸øµ±Ç°µãµÄy×ø±ê
  667   2          }
  668   1      
  669   1          OLED_CLS();
  670   1          for(Xtime=0;Xtime<127;Xtime++)
  671   1          {
  672   2              OLED_Line(Xtime,(unsigned char)(63-WaveData[Xtime]) ,Xtime,(unsigned char)(63-WaveData[Xtime+1]),
             -0);//x0,y0,x1,y1,ÊÇ·ñÁ¢¼´ÏÔÊ¾
  673   2          }
  674   1          OLED_Show();
  675   1          
  676   1      }
  677          
  678          void oled_draw_line(u8 x0,u8 y0,u8 x1,u8 y1,bit draw,u8 dot)//draw:
  679          {
  680   1          u8 lx = abs(x1-x0); //lx:Ë®Æ½¾àÀë abs()È¡¾ø¶ÔÖµ
  681   1          u8 ly = abs(y1-y0);
  682   1          u8 dm,i;   //È¡xylÖÐ½Ï´óµÄÒ»¸ö×÷ÎªÑ­»·´ÎÊý
  683   1          float dx,dy; //dx:Ë®Æ½ÔöÁ¿ dy:´¹Ö±ÔöÁ¿
  684   1          float x,y;
  685   1      
  686   1      
  687   1          if(lx >= ly)//Èç¹ûË®Æ½¾àÀë´óÓÚµÈÓÚ´¹Ö±¾àÀë
  688   1          {
  689   2              dm = lx;
  690   2          }
  691   1          else
  692   1          {
  693   2              dm = ly;
  694   2          }
  695   1      
  696   1          dx=(float)(x1-x0)/dm;//Ã¿½ÚµÄx±ä»¯ÔöÁ¿
  697   1          dy=(float)(y1-y0)/dm;//Ã¿½ÚµÄy±ä»¯ÔöÁ¿
  698   1          x=(float)x0+0.5;//x0+0.5:ÎªÁË±ÜÃâ¸¡µãÊý¼ÆËãÎó²î£¬½«x0,y0×ª»»Îª¸¡µãÊýºóÔÙ¼ÓÉÏ0.5
  699   1          y=(float)y0+0.5;//y0+0.5:ÎªÁË±ÜÃâ¸¡µãÊý¼ÆËãÎó²î£¬½«x0,y0×ª»»Îª¸¡µãÊýºóÔÙ¼ÓÉÏ0.5
  700   1          for(i=0;i<=dm;i++)
  701   1          {
  702   2              if(draw)
  703   2              {
  704   3                  if(!(i%dot))
  705   3                  OLED_Point((u8)x,(u8)y,1);
  706   3              }
  707   2              else
  708   2              {
  709   3                  OLED_ClearPoint((u8)x,(u8)y,1);
  710   3              }
  711   2              x+=dx;//»­ÍêÒ»¸öµãºó£¬x×ø±êÔö¼ÓÒ»¸öÔöÁ¿
  712   2              y+=dy;//»­ÍêÒ»¸öµãºó£¬y×ø±êÔö¼ÓÒ»¸öÔöÁ¿
  713   2          }
C251 COMPILER V5.60.0,  oled                                                               14/01/26  14:58:52  PAGE 12  

  714   1      }
  715          
  716          void oled_draw_frame(u8 x0,u8 y0,u8 x1,u8 y1)//»­Ò»¸ö¾ØÐÎ¿ò£¬¼ä¸ôdot
  717          {
  718   1          oled_draw_line(x0,y0,x1,y0,1,5);    //»­ÉÏ±ß¿òµÄÒ»ÌõË®Æ½Ïß
  719   1          oled_draw_line(x1,y0,x1,y1,1,5);    //»­ÓÒ±ß¿òµÄÒ»Ìõ´¹Ö±Ïß
  720   1          oled_draw_line(x1,y1,x0,y1,1,5);    //»­ÏÂ±ß¿òµÄÒ»ÌõË®Æ½Ïß
  721   1          oled_draw_line(x0,y1,x0,y0,1,5);    //»­×ó±ß¿òµÄÒ»Ìõ´¹Ö±Ïß
  722   1      }
  723          
  724          void oled_drawblock(u8 x0,u8 y0,u8 x1,u8 y1)//»­Ò»¸ö¾ØÐÎ¿é£¬¼ä¸ôdot
  725          {
  726   1          char i,d;//i:Ñ­»·±äÁ¿ d:»æÖÆ·½Ïò
  727   1          
  728   1          if(y1-y0>=0)        // È·¶¨»æÖÆ·½Ïò£º´ÓÉÏµ½ÏÂ(y1>=y0)»ò´ÓÏÂµ½ÉÏ(y1<y0)
  729   1          d=1;
  730   1          else
  731   1          d=-1;
  732   1                                                  // »æÖÆÒ»ÌõË®Æ½Ïß£¬´Ó(x0, y0+i*d)µ½(x1, y0+i*d)
  733   1                                                  // ²ÎÊýËµÃ÷£º
  734   1                                                  // - x0, y0+i*d: ÏßµÄÆðµã×ø±ê
  735   1                                                  // - x1, y0+i*d: ÏßµÄÖÕµã×ø±ê
  736   1                                                  // - 1: ±íÊ¾»æÖÆÏß£¨¶ø²»ÊÇÇå³ý£©
  737   1                                                  // - 1: ±íÊ¾Ã¿¸öÏñËØ¶¼»æÖÆ£¨²»Ìø¹ýÈÎºÎµã£©
  738   1          for(i=0;i<=abs(y1-y0);i++)
  739   1          {
  740   2              oled_draw_line(x0,(u8)(y0+i*d),x1,(u8)(y0+i*d),1,1);
  741   2              OLED_Show();
  742   2              delay_ms(50);
  743   2          }
  744   1      }
  745          
  746          void oled_drawsin()
  747          {
  748   1          u8 x0=64,y0=32;         // ÉèÖÃ×ø±êÏµÔ­µãÎªÆÁÄ»ÖÐÐÄ(64,32)
  749   1          float si,sx,sy,rad;     // si:½Ç¶È±äÁ¿, sx:x×ø±ê, sy:y×ø±ê, rad:»¡¶ÈÖµ
  750   1      
  751   1          oled_draw_line(0,32,127,32,1,2);OLED_Show();    //»­sinº¯ÊýµÄxÖá
  752   1          oled_draw_line(64,0,64,64,1,2);OLED_Show();    //»­sinº¯ÊýµÄyÖá
  753   1      
  754   1          for(si=-180;si<180;si+=1)
  755   1          {
  756   2              rad=si*3.14/180;// ½«½Ç¶È×ª»»Îª»¡¶È£¨¦Ð/180£©
  757   2              sx=si/3.5;//XÖáËõ·Å±ÈÀý£º1/3.5£¨½«½Ç¶È·¶Î§Ó³Éäµ½ÆÁÄ»¿í¶È£© // ³ýÒÔ3.5ÊÇÎªÁË½«360¶ÈµÄ½Ç¶È·¶Î§ÊÊÅäµ
             -½Ô¼103ÏñËØµÄ¿í¶È
  758   2              sy=sin(rad)*25;//YÖáËõ·Å±ÈÀý£º25£¨½«sinÖµ·¶Î§Ó³Éäµ½ÆÁÄ»¸ß¶È[-1,1]£©// ÕýÏÒº¯ÊýÖµ·¶Î§[-1,1]£¬³ËÒÔ2
             -5ºó·¶Î§Îª[-25,25]
  759   2      
  760   2              OLED_Point(x0+sx,64-(y0+sy),1);
  761   2              OLED_Show();
  762   2              delay_ms(10);
  763   2          }
  764   1          OLED_CLS();
  765   1      }
  766          
  767          void oled_drawCircle(u8 x0,u8 y0,u8 R,bit draw)
  768          {
  769   1          float Rx,Ry,angle,rad;
  770   1      
  771   1          OLED_Point(x0,y0,1);
  772   1      
  773   1          for(angle=0;angle<360;angle+=1)
  774   1          {
  775   2              rad=angle*3.14/180;
  776   2              Rx=R*cos(rad);
  777   2              Ry=R*sin(rad);
C251 COMPILER V5.60.0,  oled                                                               14/01/26  14:58:52  PAGE 13  

  778   2      
  779   2              if(draw==1)
  780   2              {
  781   3                  OLED_Point(x0+(u8)Rx,y0+(u8)Ry,1);
*** WARNING C188 IN LINE 781 OF Sources\oled.c: 'parameter 1': value truncated
*** WARNING C188 IN LINE 781 OF Sources\oled.c: 'parameter 2': value truncated
  782   3              }
  783   2              else
  784   2              {
  785   3                  OLED_ClearPoint(x0+(u8)Rx,y0+(u8)Ry,1);
*** WARNING C188 IN LINE 785 OF Sources\oled.c: 'parameter 1': value truncated
*** WARNING C188 IN LINE 785 OF Sources\oled.c: 'parameter 2': value truncated
  786   3              }   
  787   2              OLED_Show();
  788   2          }
  789   1      }
  790          
  791          void test_key_level_wave()
  792          {
  793   1          ButtonWave();//°´¼ü²¨¶¯Í¼ÐÎÏÔÊ¾
  794   1          time_out();//ADC¼ì²â°´¼ü0ºÍ1£¬·Ö±ð¿ØÖÆ2Ìõ¾²Ì¬²¨ÐÎÍ¼µÄ¸ßµçÆ½ºÍµÍµçÆ½
  795   1      }


Module Information          Static   Overlayable
------------------------------------------------
  code size            =      6189     ------
  ecode size           =    ------     ------
  data size            =    ------     ------
  idata size           =    ------     ------
  pdata size           =    ------     ------
  xdata size           =      1302     ------
  xdata-const size     =    ------     ------
  edata size           =    ------         89
  bit size             =    ------          4
  ebit size            =    ------     ------
  bitaddressable size  =    ------     ------
  ebitaddressable size =    ------     ------
  far data size        =    ------     ------
  huge data size       =    ------     ------
  const size           =    ------     ------
  hconst size          =       190     ------
End of Module Information.


C251 COMPILATION COMPLETE.  4 WARNING(S),  0 ERROR(S)
